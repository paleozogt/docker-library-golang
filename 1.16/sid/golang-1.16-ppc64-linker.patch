commit ad955609e678418b665f029d2eac9fc5a86df18d
Author: Aaron Simmons <paleozogt@gmail.com>
Date:   Mon Oct 18 16:49:13 2021 -0600

    external linking support for ppc64 (from https://git.powerel.org/powerel7/base/src/commit/0b7d6aabaffe7b75eee4fc2b1534d24e8f0f6ea7/SOURCES/golang-1.16-ppc64-linker.patch)

diff --git a/src/cmd/link/internal/ld/config.go b/src/cmd/link/internal/ld/config.go
index d1e06239a5..a88dfc9999 100644
--- a/src/cmd/link/internal/ld/config.go
+++ b/src/cmd/link/internal/ld/config.go
@@ -75,7 +75,7 @@ func (mode *BuildMode) Set(s string) error {
 		*mode = BuildModeCArchive
 	case "c-shared":
 		switch objabi.GOARCH {
-		case "386", "amd64", "arm", "arm64", "ppc64le", "s390x":
+		case "386", "amd64", "arm", "arm64", "ppc64le", "ppc64", "s390x":
 		default:
 			return badmode()
 		}
@@ -84,7 +84,7 @@ func (mode *BuildMode) Set(s string) error {
 		switch objabi.GOOS {
 		case "linux":
 			switch objabi.GOARCH {
-			case "386", "amd64", "arm", "arm64", "ppc64le", "s390x":
+			case "386", "amd64", "arm", "arm64", "ppc64le", "ppc64", "s390x":
 			default:
 				return badmode()
 			}
@@ -96,7 +96,7 @@ func (mode *BuildMode) Set(s string) error {
 		switch objabi.GOOS {
 		case "linux":
 			switch objabi.GOARCH {
-			case "386", "amd64", "arm", "arm64", "s390x", "ppc64le":
+			case "386", "amd64", "arm", "arm64", "s390x", "ppc64le", "ppc64":
 			default:
 				return badmode()
 			}
@@ -108,7 +108,7 @@ func (mode *BuildMode) Set(s string) error {
 			}
 		case "freebsd":
 			switch objabi.GOARCH {
-			case "amd64":
+			case "amd64", "ppc64le":
 			default:
 				return badmode()
 			}
@@ -197,7 +197,7 @@ func mustLinkExternal(ctxt *Link) (res bool, reason string) {
 	// Internally linking cgo is incomplete on some architectures.
 	// https://golang.org/issue/14449
 	// https://golang.org/issue/21961
-	if iscgo && ctxt.Arch.InFamily(sys.MIPS64, sys.MIPS, sys.PPC64, sys.RISCV64) {
+	if iscgo && ctxt.Arch.InFamily(sys.MIPS64, sys.MIPS, sys.RISCV64) {
 		return true, objabi.GOARCH + " does not support internal cgo"
 	}
 	if iscgo && objabi.GOOS == "android" {
@@ -275,8 +275,6 @@ func determineLinkMode(ctxt *Link) {
 		}
 	case LinkExternal:
 		switch {
-		case objabi.GOARCH == "ppc64" && objabi.GOOS != "aix":
-			Exitf("external linking not supported for %s/ppc64", objabi.GOOS)
 		}
 	}
 }
